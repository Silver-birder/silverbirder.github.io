/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const e=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,t=Symbol(),o=new Map;class i{constructor(e,o){if(this._$cssResult$=!0,o!==t)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){let t=o.get(this.cssText);return e&&void 0===t&&(o.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const n=(e,...o)=>{const n=1===e.length?e[0]:o.reduce(((t,o,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+e[i+1]),e[0]);return new i(n,t)},s=(t,o)=>{e?t.adoptedStyleSheets=o.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):o.forEach((e=>{const o=document.createElement("style"),i=window.litNonce;void 0!==i&&o.setAttribute("nonce",i),o.textContent=e.cssText,t.appendChild(o)}))},r=e?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let o="";for(const t of e.cssRules)o+=t.cssText;return(e=>new i("string"==typeof e?e:e+"",t))(o)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var a;const l=window.trustedTypes,d=l?l.emptyScript:"",h=window.reactiveElementPolyfillSupport,c={toAttribute(e,t){switch(t){case Boolean:e=e?d:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let o=e;switch(t){case Boolean:o=null!==e;break;case Number:o=null===e?null:Number(e);break;case Object:case Array:try{o=JSON.parse(e)}catch(e){o=null}}return o}},p=(e,t)=>t!==e&&(t==t||e==e),_={attribute:!0,type:String,converter:c,reflect:!1,hasChanged:p};class u extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){var t;null!==(t=this.l)&&void 0!==t||(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,o)=>{const i=this._$Eh(o,t);void 0!==i&&(this._$Eu.set(i,o),e.push(i))})),e}static createProperty(e,t=_){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const o="symbol"==typeof e?Symbol():"__"+e,i=this.getPropertyDescriptor(e,o,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,o){return{get(){return this[t]},set(i){const n=this[e];this[t]=i,this.requestUpdate(e,n,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||_}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const o of t)this.createProperty(o,e[o])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const o=new Set(e.flat(1/0).reverse());for(const e of o)t.unshift(r(e))}else void 0!==e&&t.push(r(e));return t}static _$Eh(e,t){const o=t.attribute;return!1===o?void 0:"string"==typeof o?o:"string"==typeof e?e.toLowerCase():void 0}o(){var e;this._$Ep=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,o;(null!==(t=this._$Eg)&&void 0!==t?t:this._$Eg=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(o=e.hostConnected)||void 0===o||o.call(e))}removeController(e){var t;null===(t=this._$Eg)||void 0===t||t.splice(this._$Eg.indexOf(e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,o){this._$AK(e,o)}_$ES(e,t,o=_){var i,n;const s=this.constructor._$Eh(e,o);if(void 0!==s&&!0===o.reflect){const r=(null!==(n=null===(i=o.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==n?n:c.toAttribute)(t,o.type);this._$Ei=e,null==r?this.removeAttribute(s):this.setAttribute(s,r),this._$Ei=null}}_$AK(e,t){var o,i,n;const s=this.constructor,r=s._$Eu.get(e);if(void 0!==r&&this._$Ei!==r){const e=s.getPropertyOptions(r),a=e.converter,l=null!==(n=null!==(i=null===(o=a)||void 0===o?void 0:o.fromAttribute)&&void 0!==i?i:"function"==typeof a?a:null)&&void 0!==n?n:c.fromAttribute;this._$Ei=r,this[r]=l(t,e.type),this._$Ei=null}}requestUpdate(e,t,o){let i=!0;void 0!==e&&(((o=o||this.constructor.getPropertyOptions(e)).hasChanged||p)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===o.reflect&&this._$Ei!==e&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(e,o))):i=!1),!this.isUpdatePending&&i&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((e,t)=>this[t]=e)),this._$Et=void 0);let t=!1;const o=this._$AL;try{t=this.shouldUpdate(o),t?(this.willUpdate(o),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(o)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(o)}willUpdate(e){}_$AE(e){var t;null===(t=this._$Eg)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(e){return!0}update(e){void 0!==this._$E_&&(this._$E_.forEach(((e,t)=>this._$ES(t,this[t],e))),this._$E_=void 0),this._$EU()}updated(e){}firstUpdated(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var v;u.finalized=!0,u.elementProperties=new Map,u.elementStyles=[],u.shadowRootOptions={mode:"open"},null==h||h({ReactiveElement:u}),(null!==(a=globalThis.reactiveElementVersions)&&void 0!==a?a:globalThis.reactiveElementVersions=[]).push("1.0.2");const f=globalThis.trustedTypes,g=f?f.createPolicy("lit-html",{createHTML:e=>e}):void 0,y=`lit$${(Math.random()+"").slice(9)}$`,b="?"+y,m=`<${b}>`,N=document,w=(e="")=>N.createComment(e),C=e=>null===e||"object"!=typeof e&&"function"!=typeof e,A=Array.isArray,$=e=>{var t;return A(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},k=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,E=/-->/g,S=/>/g,T=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,O=/'/g,M=/"/g,x=/^(?:script|style|textarea)$/i,R=(e=>(t,...o)=>({_$litType$:e,strings:t,values:o}))(1),H=Symbol.for("lit-noChange"),L=Symbol.for("lit-nothing"),P=new WeakMap,W=(e,t,o)=>{var i,n;const s=null!==(i=null==o?void 0:o.renderBefore)&&void 0!==i?i:t;let r=s._$litPart$;if(void 0===r){const e=null!==(n=null==o?void 0:o.renderBefore)&&void 0!==n?n:null;s._$litPart$=r=new D(t.insertBefore(w(),e),e,void 0,null!=o?o:{})}return r._$AI(e),r},B=N.createTreeWalker(N,129,null,!1),I=(e,t)=>{const o=e.length-1,i=[];let n,s=2===t?"<svg>":"",r=k;for(let t=0;t<o;t++){const o=e[t];let a,l,d=-1,h=0;for(;h<o.length&&(r.lastIndex=h,l=r.exec(o),null!==l);)h=r.lastIndex,r===k?"!--"===l[1]?r=E:void 0!==l[1]?r=S:void 0!==l[2]?(x.test(l[2])&&(n=RegExp("</"+l[2],"g")),r=T):void 0!==l[3]&&(r=T):r===T?">"===l[0]?(r=null!=n?n:k,d=-1):void 0===l[1]?d=-2:(d=r.lastIndex-l[2].length,a=l[1],r=void 0===l[3]?T:'"'===l[3]?M:O):r===M||r===O?r=T:r===E||r===S?r=k:(r=T,n=void 0);const c=r===T&&e[t+1].startsWith("/>")?" ":"";s+=r===k?o+m:d>=0?(i.push(a),o.slice(0,d)+"$lit$"+o.slice(d)+y+c):o+y+(-2===d?(i.push(void 0),t):c)}const a=s+(e[o]||"<?>")+(2===t?"</svg>":"");return[void 0!==g?g.createHTML(a):a,i]};class F{constructor({strings:e,_$litType$:t},o){let i;this.parts=[];let n=0,s=0;const r=e.length-1,a=this.parts,[l,d]=I(e,t);if(this.el=F.createElement(l,o),B.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(i=B.nextNode())&&a.length<r;){if(1===i.nodeType){if(i.hasAttributes()){const e=[];for(const t of i.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(y)){const o=d[s++];if(e.push(t),void 0!==o){const e=i.getAttribute(o.toLowerCase()+"$lit$").split(y),t=/([.?@])?(.*)/.exec(o);a.push({type:1,index:n,name:t[2],strings:e,ctor:"."===t[1]?z:"?"===t[1]?V:"@"===t[1]?G:j})}else a.push({type:6,index:n})}for(const t of e)i.removeAttribute(t)}if(x.test(i.tagName)){const e=i.textContent.split(y),t=e.length-1;if(t>0){i.textContent=f?f.emptyScript:"";for(let o=0;o<t;o++)i.append(e[o],w()),B.nextNode(),a.push({type:2,index:++n});i.append(e[t],w())}}}else if(8===i.nodeType)if(i.data===b)a.push({type:2,index:n});else{let e=-1;for(;-1!==(e=i.data.indexOf(y,e+1));)a.push({type:7,index:n}),e+=y.length-1}n++}}static createElement(e,t){const o=N.createElement("template");return o.innerHTML=e,o}}function U(e,t,o=e,i){var n,s,r,a;if(t===H)return t;let l=void 0!==i?null===(n=o._$Cl)||void 0===n?void 0:n[i]:o._$Cu;const d=C(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==d&&(null===(s=null==l?void 0:l._$AO)||void 0===s||s.call(l,!1),void 0===d?l=void 0:(l=new d(e),l._$AT(e,o,i)),void 0!==i?(null!==(r=(a=o)._$Cl)&&void 0!==r?r:a._$Cl=[])[i]=l:o._$Cu=l),void 0!==l&&(t=U(e,l._$AS(e,t.values),l,i)),t}class K{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(e){var t;const{el:{content:o},parts:i}=this._$AD,n=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:N).importNode(o,!0);B.currentNode=n;let s=B.nextNode(),r=0,a=0,l=i[0];for(;void 0!==l;){if(r===l.index){let t;2===l.type?t=new D(s,s.nextSibling,this,e):1===l.type?t=new l.ctor(s,l.name,l.strings,this,e):6===l.type&&(t=new Z(s,this,e)),this.v.push(t),l=i[++a]}r!==(null==l?void 0:l.index)&&(s=B.nextNode(),r++)}return n}m(e){let t=0;for(const o of this.v)void 0!==o&&(void 0!==o.strings?(o._$AI(e,o,t),t+=o.strings.length-2):o._$AI(e[t])),t++}}class D{constructor(e,t,o,i){var n;this.type=2,this._$AH=L,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=o,this.options=i,this._$Cg=null===(n=null==i?void 0:i.isConnected)||void 0===n||n}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cg}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=U(this,e,t),C(e)?e===L||null==e||""===e?(this._$AH!==L&&this._$AR(),this._$AH=L):e!==this._$AH&&e!==H&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.S(e):$(e)?this.M(e):this.$(e)}A(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}S(e){this._$AH!==e&&(this._$AR(),this._$AH=this.A(e))}$(e){this._$AH!==L&&C(this._$AH)?this._$AA.nextSibling.data=e:this.S(N.createTextNode(e)),this._$AH=e}T(e){var t;const{values:o,_$litType$:i}=e,n="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=F.createElement(i.h,this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===n)this._$AH.m(o);else{const e=new K(n,this),t=e.p(this.options);e.m(o),this.S(t),this._$AH=e}}_$AC(e){let t=P.get(e.strings);return void 0===t&&P.set(e.strings,t=new F(e)),t}M(e){A(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let o,i=0;for(const n of e)i===t.length?t.push(o=new D(this.A(w()),this.A(w()),this,this.options)):o=t[i],o._$AI(n),i++;i<t.length&&(this._$AR(o&&o._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var o;for(null===(o=this._$AP)||void 0===o||o.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cg=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class j{constructor(e,t,o,i,n){this.type=1,this._$AH=L,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=n,o.length>2||""!==o[0]||""!==o[1]?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=L}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,o,i){const n=this.strings;let s=!1;if(void 0===n)e=U(this,e,t,0),s=!C(e)||e!==this._$AH&&e!==H,s&&(this._$AH=e);else{const i=e;let r,a;for(e=n[0],r=0;r<n.length-1;r++)a=U(this,i[o+r],t,r),a===H&&(a=this._$AH[r]),s||(s=!C(a)||a!==this._$AH[r]),a===L?e=L:e!==L&&(e+=(null!=a?a:"")+n[r+1]),this._$AH[r]=a}s&&!i&&this.k(e)}k(e){e===L?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class z extends j{constructor(){super(...arguments),this.type=3}k(e){this.element[this.name]=e===L?void 0:e}}const q=f?f.emptyScript:"";class V extends j{constructor(){super(...arguments),this.type=4}k(e){e&&e!==L?this.element.setAttribute(this.name,q):this.element.removeAttribute(this.name)}}class G extends j{constructor(e,t,o,i,n){super(e,t,o,i,n),this.type=5}_$AI(e,t=this){var o;if((e=null!==(o=U(this,e,t,0))&&void 0!==o?o:L)===H)return;const i=this._$AH,n=e===L&&i!==L||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==L&&(i===L||n);n&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,o;"function"==typeof this._$AH?this._$AH.call(null!==(o=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==o?o:this.element,e):this._$AH.handleEvent(e)}}class Z{constructor(e,t,o){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(e){U(this,e)}}const Y={P:"$lit$",V:y,L:b,I:1,N:I,R:K,D:$,j:U,H:D,O:j,F:V,B:G,W:z,Z:Z},J=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Q,X;null==J||J(F,D),(null!==(v=globalThis.litHtmlVersions)&&void 0!==v?v:globalThis.litHtmlVersions=[]).push("2.0.2");class ee extends u{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t;const o=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=o.firstChild),o}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=W(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}render(){return H}}ee.finalized=!0,ee._$litElement$=!0,null===(Q=globalThis.litElementHydrateSupport)||void 0===Q||Q.call(globalThis,{LitElement:ee});const te=globalThis.litElementPolyfillSupport;null==te||te({LitElement:ee}),(null!==(X=globalThis.litElementVersions)&&void 0!==X?X:globalThis.litElementVersions=[]).push("3.0.2");const oe=new WeakMap;function ie(e){return t=>{if(function(e,t){let o=t;for(;o;){if(oe.get(o)===e)return!0;o=Object.getPrototypeOf(o)}return!1}(e,t))return t;const o=e(t);return oe.set(o,e),o}}const ne=n`
  .global-overlays {
    position: fixed;
    z-index: 200;
  }

  .global-overlays__overlay {
    pointer-events: auto;
  }

  .global-overlays__overlay-container {
    display: flex;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .global-overlays__overlay-container--top-left {
    justify-content: flex-start;
    align-items: flex-start;
  }

  .global-overlays__overlay-container--top {
    justify-content: center;
    align-items: flex-start;
  }

  .global-overlays__overlay-container--top-right {
    justify-content: flex-end;
    align-items: flex-start;
  }

  .global-overlays__overlay-container--right {
    justify-content: flex-end;
    align-items: center;
  }

  .global-overlays__overlay-container--bottom-left {
    justify-content: flex-start;
    align-items: flex-end;
  }

  .global-overlays__overlay-container--bottom {
    justify-content: center;
    align-items: flex-end;
  }

  .global-overlays__overlay-container--bottom-right {
    justify-content: flex-end;
    align-items: flex-end;
  }
  .global-overlays__overlay-container--left {
    justify-content: flex-start;
    align-items: center;
  }

  .global-overlays__overlay-container--center {
    justify-content: center;
    align-items: center;
  }

  .global-overlays__overlay--bottom-sheet {
    width: 100%;
  }

  .global-overlays .global-overlays__backdrop {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background-color: #333333;
    opacity: 0.3;
    display: none;
  }

  .global-overlays .global-overlays__backdrop--visible {
    display: block;
  }

  .global-overlays .global-overlays__backdrop--animation-in {
    animation: global-overlays-backdrop-fade-in 300ms;
  }

  .global-overlays .global-overlays__backdrop--animation-out {
    animation: global-overlays-backdrop-fade-out 300ms;
    opacity: 0;
  }

  @keyframes global-overlays-backdrop-fade-in {
    from {
      opacity: 0;
    }
  }

  @keyframes global-overlays-backdrop-fade-out {
    from {
      opacity: 0.3;
    }
  }

  body > *[inert] {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    pointer-events: none;
  }

  body.global-overlays-scroll-lock {
    overflow: hidden;
  }

  body.global-overlays-scroll-lock-ios-fix {
    position: fixed;
    width: 100%;
  }

  html.global-overlays-scroll-lock-ios-fix {
    height: 100vh;
  }
`,se=Symbol.for("lion::SingletonManagerClassStorage");const re=new class{constructor(){this._map=window[se]?window[se]:window[se]=new Map}set(e,t){this.has(e)||this._map.set(e,t)}get(e){return this._map.get(e)}has(e){return this._map.has(e)}};const ae=navigator.userAgent.match(/iPhone|iPad|iPod/i);class le{static __createGlobalRootNode(){const e=document.createElement("div");return e.classList.add("global-overlays"),document.body.appendChild(e),e}static __createGlobalStyleNode(){const e=document.createElement("style");return e.setAttribute("data-global-overlays",""),e.textContent=ne.cssText,document.head.appendChild(e),e}get globalRootNode(){return le.__globalRootNode||(le.__globalRootNode=le.__createGlobalRootNode(),le.__globalStyleNode=le.__createGlobalStyleNode()),le.__globalRootNode}get list(){return this.__list}get shownList(){return this.__shownList}constructor(){this.__list=[],this.__shownList=[],this.__siblingsInert=!1,this.__blockingMap=new WeakMap}add(e){if(this.list.find((t=>e===t)))throw new Error("controller instance is already added");return this.list.push(e),e}remove(e){if(!this.list.find((t=>e===t)))throw new Error("could not find controller to remove");this.__list=this.list.filter((t=>t!==e))}show(e){this.list.find((t=>e===t))&&this.hide(e),this.__shownList.unshift(e),Array.from(this.__shownList).reverse().forEach(((e,t)=>{e.elevation=t+1}))}hide(e){if(!this.list.find((t=>e===t)))throw new Error("could not find controller to hide");this.__shownList=this.shownList.filter((t=>t!==e))}teardown(){this.list.forEach((e=>{e.teardown()})),this.__list=[],this.__shownList=[],this.__siblingsInert=!1;const e=le.__globalRootNode;e&&(e.parentElement&&e.parentElement.removeChild(e),le.__globalRootNode=void 0,document.head.removeChild(le.__globalStyleNode),le.__globalStyleNode=void 0)}get siblingsInert(){return this.__siblingsInert}disableTrapsKeyboardFocusForAll(){this.shownList.forEach((e=>{!0===e.trapsKeyboardFocus&&e.disableTrapsKeyboardFocus&&e.disableTrapsKeyboardFocus({findNewTrap:!1})}))}informTrapsKeyboardFocusGotEnabled(e){!1===this.siblingsInert&&"global"===e&&(le.__globalRootNode&&function(e){var t;const o=null===(t=e.parentElement)||void 0===t?void 0:t.children;for(let t=0;t<o.length;t+=1){const i=o[t];i!==e&&(i.setAttribute("inert",""),i.setAttribute("aria-hidden","true"))}}(this.globalRootNode),this.__siblingsInert=!0)}informTrapsKeyboardFocusGotDisabled({disabledCtrl:e,findNewTrap:t=!0}={}){const o=this.shownList.find((t=>t!==e&&!0===t.trapsKeyboardFocus));o?t&&o.enableTrapsKeyboardFocus():!0===this.siblingsInert&&(le.__globalRootNode&&function(e){var t;const o=null===(t=e.parentElement)||void 0===t?void 0:t.children;for(let t=0;t<o.length;t+=1){const i=o[t];i!==e&&(i.removeAttribute("inert"),i.removeAttribute("aria-hidden"))}}(this.globalRootNode),this.__siblingsInert=!1)}requestToPreventScroll(){document.body.classList.add("global-overlays-scroll-lock"),ae&&(document.body.classList.add("global-overlays-scroll-lock-ios-fix"),document.documentElement.classList.add("global-overlays-scroll-lock-ios-fix"))}requestToEnableScroll(){this.shownList.some((e=>!0===e.preventsScroll))||(document.body.classList.remove("global-overlays-scroll-lock"),ae&&(document.body.classList.remove("global-overlays-scroll-lock-ios-fix"),document.documentElement.classList.remove("global-overlays-scroll-lock-ios-fix")))}requestToShowOnly(e){const t=this.shownList.filter((t=>t!==e));t.map((e=>e.hide())),this.__blockingMap.set(e,t)}retractRequestToShowOnly(e){if(this.__blockingMap.has(e)){this.__blockingMap.get(e).map((e=>e.show()))}}}le.__globalRootNode=void 0,le.__globalStyleNode=void 0;let de=re.get("@lion/overlays::overlays::0.15.x")||new le;function he(){let e=document.activeElement||document.body;for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}const ce=({visibility:e,display:t})=>"hidden"!==e&&"none"!==t;function pe(e,t){const o=Math.max(e.tabIndex,0),i=Math.max(t.tabIndex,0);return 0===o||0===i?i>o:o>i}function _e(e){const t=e.length;if(t<2)return e;const o=Math.ceil(t/2);return function(e,t){const o=[];for(;e.length>0&&t.length>0;)pe(e[0],t[0])?o.push(t.shift()):o.push(e.shift());return[...o,...e,...t]}(_e(e.slice(0,o)),_e(e.slice(o)))}const ue="matches"in Element.prototype?"matches":"msMatchesSelector";function ve(e){return function(e){return e[ue]("input, select, textarea, button, object")?e[ue](":not([disabled])"):e[ue]("a[href], area[href], iframe, [tabindex], [contentEditable]")}(e)?Number(e.getAttribute("tabindex")||0):-1}function fe(e){return e.nodeType===Node.ELEMENT_NODE&&("slot"===e.localName||function(e){return!!(e&&e.isConnected&&ce(e.style)&&ce(window.getComputedStyle(e))&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length))}(e))}function ge(e,t){if(!fe(e))return!1;const o=e,i=ve(o);let n=i>0;i>=0&&t.push(o);const s=function(e){if("slot"===e.localName)return e.assignedNodes({flatten:!0});const{children:t}=e.shadowRoot||e;return t||[]}(o);for(let e=0;e<s.length;e+=1)n=ge(s[e],t)||n;return n}function ye(e){const t=[];return ge(e,t)?_e(t):t}function be(e,t){let o=e.contains(t);if(o)return!0;return!!(e instanceof HTMLElement&&e.shadowRoot&&(o=be(e.shadowRoot,t),o))||(function e(i){for(let n=0;n<i.children.length;n+=1){const s=i.children[n];if(s.shadowRoot&&be(s.shadowRoot,t)){o=!0;break}s.children.length>0&&e(s)}}(e),o)}const me=9;function Ne(e){const t=ye(e),o=t.find((e=>e.hasAttribute("autofocus")))||e;let i,n;function s(t){t.keyCode===me&&function(e,t){const o=ye(e);let i;i=o.length>=2?[o[0],o[o.length-1]]:1===o.length?[o[0],o[0]]:[e,e],t.shiftKey&&i.reverse();const[n,s]=i,r=he();r===e||o.includes(r)&&s!==r||(t.preventDefault(),n.focus())}(e,t)}function r({resetToRoot:o=!1}={}){if(be(e,he()))return;let n;n=o?e:t[i.compareDocumentPosition(document.activeElement)===Node.DOCUMENT_POSITION_PRECEDING?0:t.length-1],n&&n.focus()}function a(){window.removeEventListener("focusin",a),r()}function l(){setTimeout((()=>{be(e,he())||r({resetToRoot:!0})})),window.addEventListener("focusin",a)}return o===e&&(e.tabIndex=-1,e.style.setProperty("outline","none")),o.focus(),window.addEventListener("keydown",s),window.addEventListener("focusout",l),function t(){i=document.createElement("div"),i.style.display="none",i.setAttribute("data-is-tab-detection-element",""),e.insertBefore(i,e.children[0]),n=new MutationObserver((o=>{for(const i of o)if("childList"===i.type){const o=!Array.from(e.children).find((e=>e.hasAttribute("data-is-tab-detection-element"))),s=Array.from(i.addedNodes).find((e=>e instanceof HTMLElement&&e.hasAttribute("data-is-tab-detection-element")));o&&!s&&(n.disconnect(),t())}})),n.observe(e,{childList:!0})}(),{disconnect:function(){window.removeEventListener("keydown",s),window.removeEventListener("focusin",a),window.removeEventListener("focusout",l),n.disconnect(),Array.from(e.children).includes(i)&&e.removeChild(i),e.style.removeProperty("outline")}}}const we=window.CSS&&CSS.number;class Ce extends class{constructor(){const e=document.createDocumentFragment();this.addEventListener=(t,o,i)=>e.addEventListener(t,o,i),this.removeEventListener=(t,o,i)=>e.removeEventListener(t,o,i),this.dispatchEvent=t=>e.dispatchEvent(t)}}{constructor(e={},t=de){if(super(),this.manager=t,this.__sharedConfig=e,this._defaultConfig={placementMode:void 0,contentNode:e.contentNode,contentWrapperNode:e.contentWrapperNode,invokerNode:e.invokerNode,backdropNode:e.backdropNode,referenceNode:void 0,elementToFocusAfterHide:e.invokerNode,inheritsReferenceWidth:"none",hasBackdrop:!1,isBlocking:!1,preventsScroll:!1,trapsKeyboardFocus:!1,hidesOnEsc:!1,hidesOnOutsideEsc:!1,hidesOnOutsideClick:!1,isTooltip:!1,invokerRelation:"description",handlesAccessibility:!1,popperConfig:{placement:"top",strategy:"absolute",modifiers:[{name:"preventOverflow",enabled:!0,options:{boundariesElement:"viewport",padding:8}},{name:"flip",options:{boundariesElement:"viewport",padding:16}},{name:"offset",enabled:!0,options:{offset:[0,8]}},{name:"arrow",enabled:!1}]},viewportConfig:{placement:"center"}},this.manager.add(this),this._contentId=`overlay-content--${Math.random().toString(36).substr(2,10)}`,this.__originalAttrs=new Map,this._defaultConfig.contentNode){if(!this._defaultConfig.contentNode.isConnected)throw new Error('[OverlayController] Could not find a render target, since the provided contentNode is not connected to the DOM. Make sure that it is connected, e.g. by doing "document.body.appendChild(contentNode)", before passing it on.');this.__isContentNodeProjected=Boolean(this._defaultConfig.contentNode.assignedSlot)}this.updateConfig(e),this.__hasActiveTrapsKeyboardFocus=!1,this.__hasActiveBackdrop=!0,this.__backdropNodeToBeTornDown=void 0,this.__escKeyHandler=this.__escKeyHandler.bind(this)}get invoker(){return this.invokerNode}get content(){return this.contentWrapperNode}get placementMode(){var e;return null===(e=this.config)||void 0===e?void 0:e.placementMode}get invokerNode(){var e;return null===(e=this.config)||void 0===e?void 0:e.invokerNode}get referenceNode(){var e;return null===(e=this.config)||void 0===e?void 0:e.referenceNode}get contentNode(){var e;return null===(e=this.config)||void 0===e?void 0:e.contentNode}get contentWrapperNode(){var e;return this.__contentWrapperNode||(null===(e=this.config)||void 0===e?void 0:e.contentWrapperNode)}get backdropNode(){var e;return this.__backdropNode||(null===(e=this.config)||void 0===e?void 0:e.backdropNode)}get elementToFocusAfterHide(){var e;return this.__elementToFocusAfterHide||(null===(e=this.config)||void 0===e?void 0:e.elementToFocusAfterHide)}get hasBackdrop(){var e;return!!this.backdropNode||(null===(e=this.config)||void 0===e?void 0:e.hasBackdrop)}get isBlocking(){var e;return null===(e=this.config)||void 0===e?void 0:e.isBlocking}get preventsScroll(){var e;return null===(e=this.config)||void 0===e?void 0:e.preventsScroll}get trapsKeyboardFocus(){var e;return null===(e=this.config)||void 0===e?void 0:e.trapsKeyboardFocus}get hidesOnEsc(){var e;return null===(e=this.config)||void 0===e?void 0:e.hidesOnEsc}get hidesOnOutsideClick(){var e;return null===(e=this.config)||void 0===e?void 0:e.hidesOnOutsideClick}get hidesOnOutsideEsc(){var e;return null===(e=this.config)||void 0===e?void 0:e.hidesOnOutsideEsc}get inheritsReferenceWidth(){var e;return null===(e=this.config)||void 0===e?void 0:e.inheritsReferenceWidth}get handlesAccessibility(){var e;return null===(e=this.config)||void 0===e?void 0:e.handlesAccessibility}get isTooltip(){var e;return null===(e=this.config)||void 0===e?void 0:e.isTooltip}get invokerRelation(){var e;return null===(e=this.config)||void 0===e?void 0:e.invokerRelation}get popperConfig(){var e;return null===(e=this.config)||void 0===e?void 0:e.popperConfig}get viewportConfig(){var e;return null===(e=this.config)||void 0===e?void 0:e.viewportConfig}get _renderTarget(){return"global"===this.placementMode?this.manager.globalRootNode:this.__isContentNodeProjected?null===(e=this.__originalContentParent)||void 0===e?void 0:e.getRootNode().host:this.__originalContentParent;var e}get _referenceNode(){return this.referenceNode||this.invokerNode}set elevation(e){this.contentWrapperNode&&(this.contentWrapperNode.style.zIndex=e),this.backdropNode&&(this.backdropNode.style.zIndex=e)}get elevation(){var e;return Number(null===(e=this.contentWrapperNode)||void 0===e?void 0:e.style.zIndex)}updateConfig(e){this.teardown(),this.__prevConfig=this.config||{},this.config={...this._defaultConfig,...this.__sharedConfig,...e,popperConfig:{...this._defaultConfig.popperConfig||{},...this.__sharedConfig.popperConfig||{},...e.popperConfig||{},modifiers:[...this._defaultConfig.popperConfig&&this._defaultConfig.popperConfig.modifiers||[],...this.__sharedConfig.popperConfig&&this.__sharedConfig.popperConfig.modifiers||[],...e.popperConfig&&e.popperConfig.modifiers||[]]}},this.__validateConfiguration(this.config),this._init({cfgToAdd:e}),this.__elementToFocusAfterHide=void 0}__validateConfiguration(e){if(!e.placementMode)throw new Error('[OverlayController] You need to provide a .placementMode ("global"|"local")');if(!["global","local"].includes(e.placementMode))throw new Error(`[OverlayController] "${e.placementMode}" is not a valid .placementMode, use ("global"|"local")`);if(!e.contentNode)throw new Error("[OverlayController] You need to provide a .contentNode");if(this.__isContentNodeProjected&&!e.contentWrapperNode)throw new Error("[OverlayController] You need to provide a .contentWrapperNode when .contentNode is projected");if(e.isTooltip&&"local"!==e.placementMode)throw new Error('[OverlayController] .isTooltip should be configured with .placementMode "local"');if(e.isTooltip&&!e.handlesAccessibility)throw new Error("[OverlayController] .isTooltip only takes effect when .handlesAccessibility is enabled")}_init({cfgToAdd:e}){this.__initContentWrapperNode({cfgToAdd:e}),this.__initConnectionTarget(),"local"===this.placementMode&&(Ce.popperModule||(Ce.popperModule=async function(){return import("./f16ab0d9.js")}())),this._handleFeatures({phase:"init"})}__initConnectionTarget(){var e,t;this.contentWrapperNode!==(null===(e=this.__prevConfig)||void 0===e?void 0:e.contentWrapperNode)&&("global"!==(null===(t=this.config)||void 0===t?void 0:t.placementMode)&&this.__isContentNodeProjected||this.contentWrapperNode.appendChild(this.contentNode));if(this._renderTarget)if(this.__isContentNodeProjected&&"local"===this.placementMode)this._renderTarget.appendChild(this.contentNode);else{const e=this._renderTarget===this.contentWrapperNode.parentNode,t=this.contentWrapperNode.contains(this._renderTarget);e||t||this._renderTarget.appendChild(this.contentWrapperNode)}}__initContentWrapperNode({cfgToAdd:e}){var t;if(null!==(t=this.config)&&void 0!==t&&t.contentWrapperNode&&"local"===this.placementMode?this.__contentWrapperNode=this.config.contentWrapperNode:this.__contentWrapperNode=document.createElement("div"),this.contentWrapperNode.style.cssText="",this.contentWrapperNode.style.display="none","absolute"===getComputedStyle(this.contentNode).position&&(this.contentNode.style.position="static"),this.__isContentNodeProjected&&this.contentWrapperNode.isConnected)this.__originalContentParent=this.contentWrapperNode.parentNode;else if(e.contentNode&&e.contentNode.isConnected){var o;this.__originalContentParent=null===(o=this.contentNode)||void 0===o?void 0:o.parentNode}}_handleZIndex({phase:e}){if("local"===this.placementMode&&"setup"===e){const e=Number(getComputedStyle(this.contentNode).zIndex);(e<1||Number.isNaN(e))&&(this.contentWrapperNode.style.zIndex="1")}}__setupTeardownAccessibility({phase:e}){"init"===e?(this.__storeOriginalAttrs(this.contentNode,["role","id"]),this.invokerNode&&this.__storeOriginalAttrs(this.invokerNode,["aria-expanded","aria-labelledby","aria-describedby"]),this.contentNode.id||this.contentNode.setAttribute("id",this._contentId),this.isTooltip?(this.invokerNode&&this.invokerNode.setAttribute("label"===this.invokerRelation?"aria-labelledby":"aria-describedby",this._contentId),this.contentNode.setAttribute("role","tooltip")):(this.invokerNode&&this.invokerNode.setAttribute("aria-expanded",`${this.isShown}`),this.contentNode.getAttribute("role")||this.contentNode.setAttribute("role","dialog"))):"teardown"===e&&this.__restoreOriginalAttrs()}__storeOriginalAttrs(e,t){const o={};t.forEach((t=>{o[t]=e.getAttribute(t)})),this.__originalAttrs.set(e,o)}__restoreOriginalAttrs(){for(const[e,t]of this.__originalAttrs)Object.entries(t).forEach((([t,o])=>{null!==o?e.setAttribute(t,o):e.removeAttribute(t)}));this.__originalAttrs.clear()}get isShown(){return Boolean("none"!==this.contentWrapperNode.style.display)}async show(e=this.elementToFocusAfterHide){if(this._showComplete&&await this._showComplete,this._showComplete=new Promise((e=>{this._showResolve=e})),this.manager&&this.manager.show(this),this.isShown)return void this._showResolve();const t=new CustomEvent("before-show",{cancelable:!0});this.dispatchEvent(t),t.defaultPrevented||(this.contentWrapperNode.style.display="",this._keepBodySize({phase:"before-show"}),await this._handleFeatures({phase:"show"}),this._keepBodySize({phase:"show"}),await this._handlePosition({phase:"show"}),this.__elementToFocusAfterHide=e,this.dispatchEvent(new Event("show")),await this._transitionShow({backdropNode:this.backdropNode,contentNode:this.contentNode})),this._showResolve()}async _handlePosition({phase:e}){if("global"===this.placementMode){const t="show"===e?"add":"remove",o=`global-overlays__overlay-container--${this.viewportConfig.placement}`;this.contentWrapperNode.classList[t]("global-overlays__overlay-container"),this.contentWrapperNode.classList[t](o),this.contentNode.classList[t]("global-overlays__overlay")}else"local"===this.placementMode&&"show"===e&&(await this.__createPopperInstance(),this._popper.forceUpdate())}_keepBodySize({phase:e}){switch(e){case"before-show":this.__bodyClientWidth=document.body.clientWidth,this.__bodyClientHeight=document.body.clientHeight,this.__bodyMarginRightInline=document.body.style.marginRight,this.__bodyMarginBottomInline=document.body.style.marginBottom;break;case"show":{if(window.getComputedStyle){const e=window.getComputedStyle(document.body);this.__bodyMarginRight=parseInt(e.getPropertyValue("margin-right"),10),this.__bodyMarginBottom=parseInt(e.getPropertyValue("margin-bottom"),10)}else this.__bodyMarginRight=0,this.__bodyMarginBottom=0;const e=document.body.clientWidth-this.__bodyClientWidth,t=document.body.clientHeight-this.__bodyClientHeight,o=this.__bodyMarginRight+e,i=this.__bodyMarginBottom+t;we?(document.body.attributeStyleMap.set("margin-right",CSS.px(o)),document.body.attributeStyleMap.set("margin-bottom",CSS.px(i))):(document.body.style.marginRight=`${o}px`,document.body.style.marginBottom=`${i}px`);break}case"hide":document.body.style.marginRight=this.__bodyMarginRightInline||"",document.body.style.marginBottom=this.__bodyMarginBottomInline||""}}async hide(){if(this._hideComplete=new Promise((e=>{this._hideResolve=e})),this.manager&&this.manager.hide(this),!this.isShown)return void this._hideResolve();const e=new CustomEvent("before-hide",{cancelable:!0});this.dispatchEvent(e),e.defaultPrevented||(await this._transitionHide({backdropNode:this.backdropNode,contentNode:this.contentNode}),this.contentWrapperNode.style.display="none",this._handleFeatures({phase:"hide"}),this._keepBodySize({phase:"hide"}),this.dispatchEvent(new Event("hide")),this._restoreFocus()),this._hideResolve()}async transitionHide(e){}async _transitionHide(e){if(await this.transitionHide({backdropNode:this.backdropNode,contentNode:this.contentNode}),e.backdropNode){e.backdropNode.classList.remove(`${this.placementMode}-overlays__backdrop--animation-in`);let t=()=>{};e.backdropNode.classList.add(`${this.placementMode}-overlays__backdrop--animation-out`),this.__backdropAnimation=new Promise((o=>{t=()=>{e.backdropNode&&(e.backdropNode.classList.remove(`${this.placementMode}-overlays__backdrop--animation-out`),e.backdropNode.classList.remove(`${this.placementMode}-overlays__backdrop--visible`),e.backdropNode.removeEventListener("animationend",t)),o(void 0)}})),e.backdropNode.addEventListener("animationend",t)}}async transitionShow(e){}async _transitionShow(e){await this.transitionShow({backdropNode:this.backdropNode,contentNode:this.contentNode}),e.backdropNode&&e.backdropNode.classList.add(`${this.placementMode}-overlays__backdrop--animation-in`)}_restoreFocus(){const{activeElement:e}=this.__contentWrapperNode.getRootNode();e&&this.__contentWrapperNode.contains(e)&&(this.elementToFocusAfterHide?this.elementToFocusAfterHide.focus():e.blur())}async toggle(){return this.isShown?this.hide():this.show()}_handleFeatures({phase:e}){this._handleZIndex({phase:e}),this.preventsScroll&&this._handlePreventsScroll({phase:e}),this.isBlocking&&this._handleBlocking({phase:e}),this.hasBackdrop&&this._handleBackdrop({phase:e}),this.trapsKeyboardFocus&&this._handleTrapsKeyboardFocus({phase:e}),this.hidesOnEsc&&this._handleHidesOnEsc({phase:e}),this.hidesOnOutsideEsc&&this._handleHidesOnOutsideEsc({phase:e}),this.hidesOnOutsideClick&&this._handleHidesOnOutsideClick({phase:e}),this.handlesAccessibility&&this._handleAccessibility({phase:e}),this.inheritsReferenceWidth&&this._handleInheritsReferenceWidth()}_handlePreventsScroll({phase:e}){switch(e){case"show":this.manager.requestToPreventScroll();break;case"hide":this.manager.requestToEnableScroll()}}_handleBlocking({phase:e}){switch(e){case"show":this.manager.requestToShowOnly(this);break;case"hide":this.manager.retractRequestToShowOnly(this)}}get hasActiveBackdrop(){return this.__hasActiveBackdrop}_handleBackdrop({phase:e}){switch(e){case"init":{this.backdropNode||(this.__backdropNode=document.createElement("div"),this.backdropNode.slot="backdrop",this.backdropNode.classList.add(`${this.placementMode}-overlays__backdrop`));let e=this.contentNode.parentNode,t=this.contentNode;"global"===this.placementMode&&(e=this.contentWrapperNode.parentElement,t=this.contentWrapperNode),e.insertBefore(this.backdropNode,t);break}case"show":this.backdropNode.classList.add(`${this.placementMode}-overlays__backdrop--visible`),this.__hasActiveBackdrop=!0;break;case"hide":if(!this.backdropNode)return;this.__hasActiveBackdrop=!1;break;case"teardown":if(!this.backdropNode||!this.backdropNode.parentNode)return;this.__backdropAnimation?(this.__backdropNodeToBeTornDown=this.backdropNode,this.__backdropAnimation.then((()=>{this.__backdropNodeToBeTornDown&&this.__backdropNodeToBeTornDown.parentNode&&this.__backdropNodeToBeTornDown.parentNode.removeChild(this.__backdropNodeToBeTornDown)}))):this.backdropNode.parentNode.removeChild(this.backdropNode),this.__backdropNode=void 0}}get hasActiveTrapsKeyboardFocus(){return this.__hasActiveTrapsKeyboardFocus}_handleTrapsKeyboardFocus({phase:e}){"show"===e?this.enableTrapsKeyboardFocus():"hide"!==e&&"teardown"!==e||this.disableTrapsKeyboardFocus()}enableTrapsKeyboardFocus(){this.__hasActiveTrapsKeyboardFocus||(this.manager&&this.manager.disableTrapsKeyboardFocusForAll(),this._containFocusHandler=Ne(this.contentNode),this.__hasActiveTrapsKeyboardFocus=!0,this.manager&&this.manager.informTrapsKeyboardFocusGotEnabled(this.placementMode))}disableTrapsKeyboardFocus({findNewTrap:e=!0}={}){this.__hasActiveTrapsKeyboardFocus&&(this._containFocusHandler&&(this._containFocusHandler.disconnect(),this._containFocusHandler=void 0),this.__hasActiveTrapsKeyboardFocus=!1,this.manager&&this.manager.informTrapsKeyboardFocusGotDisabled({disabledCtrl:this,findNewTrap:e}))}__escKeyHandler(e){return"Escape"===e.key&&this.hide()}_handleHidesOnEsc({phase:e}){"show"===e?(this.contentNode.addEventListener("keyup",this.__escKeyHandler),this.invokerNode&&this.invokerNode.addEventListener("keyup",this.__escKeyHandler)):"hide"===e&&(this.contentNode.removeEventListener("keyup",this.__escKeyHandler),this.invokerNode&&this.invokerNode.removeEventListener("keyup",this.__escKeyHandler))}_handleHidesOnOutsideEsc({phase:e}){"show"===e?(this.__escKeyHandler=e=>"Escape"===e.key&&this.hide(),document.addEventListener("keyup",this.__escKeyHandler)):"hide"===e&&document.removeEventListener("keyup",this.__escKeyHandler)}_handleInheritsReferenceWidth(){if(!this._referenceNode||"global"===this.placementMode)return;const e=`${this._referenceNode.getBoundingClientRect().width}px`;switch(this.inheritsReferenceWidth){case"max":this.contentWrapperNode.style.maxWidth=e;break;case"full":this.contentWrapperNode.style.width=e;break;case"min":this.contentWrapperNode.style.minWidth=e,this.contentWrapperNode.style.width="auto"}}_handleHidesOnOutsideClick({phase:e}){const t="show"===e?"addEventListener":"removeEventListener";if("show"===e){let e=!1,t=!1;this.__onInsideMouseDown=()=>{e=!0},this.__onInsideMouseUp=()=>{t=!0},this.__onDocumentMouseUp=()=>{setTimeout((()=>{e||t||this.hide(),e=!1,t=!1}))}}this.contentWrapperNode[t]("mousedown",this.__onInsideMouseDown,!0),this.contentWrapperNode[t]("mouseup",this.__onInsideMouseUp,!0),this.invokerNode&&(this.invokerNode[t]("mousedown",this.__onInsideMouseDown,!0),this.invokerNode[t]("mouseup",this.__onInsideMouseUp,!0)),document.documentElement[t]("mouseup",this.__onDocumentMouseUp,!0)}_handleAccessibility({phase:e}){"init"!==e&&"teardown"!==e||this.__setupTeardownAccessibility({phase:e}),this.invokerNode&&!this.isTooltip&&this.invokerNode.setAttribute("aria-expanded",`${"show"===e}`)}teardown(){this._handleFeatures({phase:"teardown"}),"global"===this.placementMode&&this.__isContentNodeProjected&&this.__originalContentParent.appendChild(this.contentNode),this._teardownContentWrapperNode()}_teardownContentWrapperNode(){"global"===this.placementMode&&this.contentWrapperNode&&this.contentWrapperNode.parentNode&&this.contentWrapperNode.parentNode.removeChild(this.contentWrapperNode)}async __createPopperInstance(){if(this._popper&&(this._popper.destroy(),this._popper=void 0),void 0!==Ce.popperModule){var e;const{createPopper:t}=await Ce.popperModule;this._popper=t(this._referenceNode,this.contentWrapperNode,{...null===(e=this.config)||void 0===e?void 0:e.popperConfig})}}}function Ae(e,t){if("object"!=typeof e||"object"!=typeof t||null===e||null===t)return e===t;const o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;return o.every((o=>Ae(e[o],t[o])))}Ce.popperModule=void 0;const $e=ie((e=>class extends e{static get properties(){return{opened:{type:Boolean,reflect:!0}}}constructor(){super(),this.opened=!1,this.__needsSetup=!0,this.config={},this.toggle=this.toggle.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}get config(){return this.__config}set config(e){const t=!Ae(this.config,e);this._overlayCtrl&&t&&this._overlayCtrl.updateConfig(e),this.__config=e,this._overlayCtrl&&t&&this.__syncToOverlayController()}requestUpdate(e,t){super.requestUpdate(e,t),"opened"===e&&this.opened!==t&&this.dispatchEvent(new Event("opened-changed"))}_defineOverlay({contentNode:e,invokerNode:t,referenceNode:o,backdropNode:i,contentWrapperNode:n}){var s,r;const a=this._defineOverlayConfig()||{};return new Ce({contentNode:e,invokerNode:t,referenceNode:o,backdropNode:i,contentWrapperNode:n,...a,...this.config,popperConfig:{...a.popperConfig||{},...this.config.popperConfig||{},modifiers:[...(null===(s=a.popperConfig)||void 0===s?void 0:s.modifiers)||[],...(null===(r=this.config.popperConfig)||void 0===r?void 0:r.modifiers)||[]]}})}_defineOverlayConfig(){return{placementMode:"local"}}updated(e){super.updated(e),e.has("opened")&&this._overlayCtrl&&!this.__blockSyncToOverlayCtrl&&this.__syncToOverlayController()}_setupOpenCloseListeners(){this.__closeEventInContentNodeHandler=e=>{e.stopPropagation(),this._overlayCtrl.hide()},this._overlayContentNode&&this._overlayContentNode.addEventListener("close-overlay",this.__closeEventInContentNodeHandler)}_teardownOpenCloseListeners(){this._overlayContentNode&&this._overlayContentNode.removeEventListener("close-overlay",this.__closeEventInContentNodeHandler)}connectedCallback(){super.connectedCallback(),this.__needsSetup=!0,this.updateComplete.then((()=>{this.__needsSetup&&this._setupOverlayCtrl(),this.__needsSetup=!1}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this._overlayCtrl&&this._teardownOverlayCtrl()}get _overlayInvokerNode(){return Array.from(this.children).find((e=>"invoker"===e.slot))}get _overlayReferenceNode(){}get _overlayBackdropNode(){return Array.from(this.children).find((e=>"backdrop"===e.slot))}get _overlayContentNode(){return this._cachedOverlayContentNode||(this._cachedOverlayContentNode=Array.from(this.children).find((e=>"content"===e.slot))||this.config.contentNode),this._cachedOverlayContentNode}get _overlayContentWrapperNode(){return this.shadowRoot.querySelector("#overlay-content-node-wrapper")}_setupOverlayCtrl(){this._overlayCtrl=this._defineOverlay({contentNode:this._overlayContentNode,contentWrapperNode:this._overlayContentWrapperNode,invokerNode:this._overlayInvokerNode,referenceNode:this._overlayReferenceNode,backdropNode:this._overlayBackdropNode}),this.__syncToOverlayController(),this.__setupSyncFromOverlayController(),this._setupOpenCloseListeners()}_teardownOverlayCtrl(){this._teardownOpenCloseListeners(),this.__teardownSyncFromOverlayController(),this._overlayCtrl.teardown()}async _setOpenedWithoutPropertyEffects(e){this.__blockSyncToOverlayCtrl=!0,this.opened=e,await this.updateComplete,this.__blockSyncToOverlayCtrl=!1}__setupSyncFromOverlayController(){this.__onOverlayCtrlShow=()=>{this.opened=!0},this.__onOverlayCtrlHide=()=>{this.opened=!1},this.__onBeforeShow=e=>{const t=new CustomEvent("before-opened",{cancelable:!0});this.dispatchEvent(t),t.defaultPrevented&&(this._setOpenedWithoutPropertyEffects(this._overlayCtrl.isShown),e.preventDefault())},this.__onBeforeHide=e=>{const t=new CustomEvent("before-closed",{cancelable:!0});this.dispatchEvent(t),t.defaultPrevented&&(this._setOpenedWithoutPropertyEffects(this._overlayCtrl.isShown),e.preventDefault())},this._overlayCtrl.addEventListener("show",this.__onOverlayCtrlShow),this._overlayCtrl.addEventListener("hide",this.__onOverlayCtrlHide),this._overlayCtrl.addEventListener("before-show",this.__onBeforeShow),this._overlayCtrl.addEventListener("before-hide",this.__onBeforeHide)}__teardownSyncFromOverlayController(){this._overlayCtrl.removeEventListener("show",this.__onOverlayCtrlShow),this._overlayCtrl.removeEventListener("hide",this.__onOverlayCtrlHide),this._overlayCtrl.removeEventListener("before-show",this.__onBeforeShow),this._overlayCtrl.removeEventListener("before-hide",this.__onBeforeHide)}__syncToOverlayController(){this.opened?this._overlayCtrl.show():this._overlayCtrl.hide()}async toggle(){await this._overlayCtrl.toggle()}async open(){await this._overlayCtrl.show()}async close(){await this._overlayCtrl.hide()}repositionOverlay(){const e=this._overlayCtrl;"local"===e.placementMode&&e._popper&&e._popper.update()}}));export{$e as O,Y as R,L as T,ee as a,H as b,ie as d,s as i,R as p,n as r,re as s,W as w};
